CREATE SCHEMA PUBLIC AUTHORIZATION DBA
CREATE MEMORY TABLE BOOKING(ID BIGINT NOT NULL PRIMARY KEY,BEDS INTEGER NOT NULL,CHECKINDATE DATE,CHECKOUTDATE DATE,CREDITCARD VARCHAR(255),CREDITCARDEXPIRYMONTH INTEGER NOT NULL,CREDITCARDEXPIRYYEAR INTEGER NOT NULL,CREDITCARDNAME VARCHAR(255),SMOKING BOOLEAN NOT NULL,HOTEL_ID BIGINT,USER_USERNAME VARCHAR(255))
CREATE MEMORY TABLE CUSTOMER(USERNAME VARCHAR(255) NOT NULL PRIMARY KEY,NAME VARCHAR(255),PASSWORD VARCHAR(255),ENABLED BOOLEAN NOT NULL)
CREATE MEMORY TABLE HOTEL(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,ADDRESS VARCHAR(255),CITY VARCHAR(255),COUNTRY VARCHAR(255),NAME VARCHAR(255),PRICE NUMERIC,STATE VARCHAR(255),ZIP VARCHAR(255))
CREATE MEMORY TABLE HIBERNATE_SEQUENCES(SEQUENCE_NAME VARCHAR(255),SEQUENCE_NEXT_HI_VALUE INTEGER)
CREATE MEMORY TABLE USERAUTHORITY(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,AUTHORITY VARCHAR(255),USER VARCHAR(255),CONSTRAINT FKFCA37F985E81E6AC FOREIGN KEY(USER) REFERENCES CUSTOMER(USERNAME))
ALTER TABLE BOOKING ADD CONSTRAINT FK6713A03965CD1B12 FOREIGN KEY(HOTEL_ID) REFERENCES HOTEL(ID)
ALTER TABLE BOOKING ADD CONSTRAINT FK6713A03928943DBD FOREIGN KEY(USER_USERNAME) REFERENCES CUSTOMER(USERNAME)
ALTER TABLE HOTEL ALTER COLUMN ID RESTART WITH 7
ALTER TABLE USERAUTHORITY ALTER COLUMN ID RESTART WITH 3
CREATE USER SA PASSWORD "SA"
GRANT DBA TO SA
SET WRITE_DELAY 20
SET SCHEMA PUBLIC
INSERT INTO BOOKING VALUES(65536,1,'2012-05-12','2012-05-13','1212121212121212',1,1,'121212',FALSE,1,'bob')
INSERT INTO CUSTOMER VALUES('bob','Bob','waterford',TRUE)
INSERT INTO CUSTOMER VALUES('david','David','kilkenny',TRUE)
INSERT INTO HOTEL VALUES(1,'3555 S. Ocean Drive','Hollywood','USA','Westin Diplomat',199,'FL','33019')
INSERT INTO HOTEL VALUES(2,'890 Palm Bay Rd NE','Palm Bay','USA','Jameson Inn',60,'FL','32905')
INSERT INTO HOTEL VALUES(3,'The Cottage, Southampton Business Park','Southampton','UK','Chilworth Manor',199,'Hants','SO16 7JF')
INSERT INTO HOTEL VALUES(4,'Tower Place, Buckhead','Atlanta','USA','Marriott Courtyard',120,'GA','30305')
INSERT INTO HOTEL VALUES(6,'Union Square, Manhattan','NY','USA','W Hotel',450,'NY','10011')
INSERT INTO HIBERNATE_SEQUENCES VALUES('Booking',3)
INSERT INTO USERAUTHORITY VALUES(1,'ROLE_ADMIN','bob')
INSERT INTO USERAUTHORITY VALUES(2,'ROLE_USER','david')
